# Access Control Documentation

**Last Updated:** February 19, 2026  
**Owner:** Lydiah (DevOps Lead)

---

## GitHub Organization Structure

### Organization: SolarSense-Capstone

**Owners (2):**
- Lydiah Nganga (DevOps)
- Tessa (DSE/Technical Lead)

**Repositories (6):**
```
1. Frontend
2. Devops  
3. DSE-models
4. Backend
5. Cybersecurity
6. Product-Design
```

**Access Model:**
- **Maintain access:** Team members have full access to their own repo
- **Read access:** Team members can view other teams' repos
- **Owners:** Lydiah and Tessa have admin access to all repos

---

## Render Platform Access

### Render Account
- **Account Owner:** Lydiah Nganga
- **MFA Status:** ✅ Enabled
- **Login Method:** Email + password + authenticator app
<img width="1366" height="768" alt="MFA enabled" src="https://github.com/user-attachments/assets/16aba8e0-195a-468b-9768-b3800e6c3070" />

### Why Single Owner?
Render free tier supports one account owner. This account manages:
- Web service deployment
- Database service
- Environment variables
- Billing (free tier)

---

## Production Services Access

### Backend Web Service (solarsense-backend-zdrw)

**Who can access Render dashboard:**
- Lydiah (account owner)

**Who can trigger deployments:**
- Lydiah (manual deploy via Render dashboard)
- Backend team (auto-deploy via GitHub push to main branch)

**Who can view logs:**
- Lydiah (via Render dashboard)
- Can be shared screen-share basis if needed for debugging

---

## Database Access

### Render PostgreSQL (solarsense-db)

**Important:** Database was created by Lydiah via Render dashboard, but access is controlled by Render, not by Lydiah personally.

**Who has access:**
- **Render Platform:** Manages the database infrastructure
- **Backend Application:** Connects via `DATABASE_URL` environment variable
- **Lydiah (DevOps):** Can view database metrics and connection info via Render dashboard

**What Lydiah can do:**
- View database metrics (CPU, memory, connections)
- View connection strings
- Restart database service if needed
- Configure backup settings (not available on free tier)

**What Lydiah CANNOT do:**
- Lydiah does not have direct SQL access to query/modify data
- Database is accessed only through the backend application code
- No team member has direct database credentials for manual queries

**Connection String Security:**
- `DATABASE_URL` stored in Render environment variables
- Backend application connects using this URL
- Never committed to GitHub
- Masked in Render UI

---

## Environment Variables Access

### Who Can View/Edit Environment Variables

**Via Render Dashboard:**
- Lydiah (account owner only)

**Environment Variables List:**
```
DATABASE_URL       - Generated by Render PostgreSQL
DSE_BASE_URL       - Provided by DSE team
API_KEY            - Provided by DSE team
PORT               - Provided by DSE team
USER_AGENT         - Set by DevOps
NODE_ENV           - Set by DevOps
```

**Security Measures:**
- Values are masked in Render dashboard (show as •••••)
- Not logged in deployment logs
- Stored encrypted by Render
- Only account owner can view actual values

---

## External Service Credentials

### DSE Models API (Railway)

**Owner:** DSE Team
**Credentials Used:**
- `DSE_BASE_URL`: https://dse-models-production.up.railway.app/api/v1
- `API_KEY`: Provided by DSE team

**DevOps Role:** Store these in Render environment variables (already done)

---

## Deployment Permissions

### Who Can Deploy to Production

**Manual Deployment:**
- Lydiah (via Render dashboard "Manual Deploy" button)

**Automatic Deployment:**
- Triggered automatically when Backend team pushes to `main` branch
- GitHub → Render integration handles this
- No manual approval needed for auto-deploys

### Who Can Rollback

**Rollback Access:**
- Lydiah (via Render "Events" tab → "Rollback to this deploy")

**Process:**
- View deployment history in Render Events
- Select previous successful deployment
- Click rollback
- Deployment reverts in 2-3 minutes

---

## Monitoring Access

### UptimeRobot

**Account Owner:** Lydiah
**Dashboard Access:** Lydiah only
**Alerts:** Email sent to lydiah.nganga@[email]

**What it monitors:**
- Backend health endpoint: `/health`
- Check interval: Every 5 minutes
- Alert trigger: If endpoint returns non-200 status

### Render Logs

**Access:** Lydiah (via Render dashboard)
**Retention:** 7 days (free tier limitation)
**Sharing:** Can be screen-shared during debugging sessions

---

## Repository Access by Team

### Backend Repository
- **Maintain access:** Sarah (Backend Lead), Backend team members
- **Read access:** All other teams
- **Owners:** Lydiah, Tessa (admin access)

### Devops Repository  
- **Maintain access:** Lydiah (DevOps Lead)
- **Read access:** All other teams
- **Owners:** Lydiah, Tessa (admin access)

### Frontend Repository
- **Maintain access:** Tianaah (Frontend Lead), Frontend team members
- **Read access:** All other teams  
- **Owners:** Lydiah, Tessa (admin access)

### DSE-models Repository
- **Maintain access:** DSE team members
- **Read access:** All other teams
- **Owners:** Lydiah, Tessa (admin access)

### Cybersecurity Repository
- **Maintain access:** Lilly (Cybersecurity Lead), Cybersecurity team
- **Read access:** All other teams
- **Owners:** Lydiah, Tessa (admin access)

### Product-Design Repository
- **Maintain access:** Design team members
- **Read access:** All other teams
- **Owners:** Lydiah, Tessa (admin access)

---

## Access Request Process

If team members need access for legitimate reasons:

**For Render Dashboard Access:**
1. Submit request in Teams channel
2. Specify: What access needed + Why + How long
3. Lydiah evaluates request
4. If approved: Screen-share session OR temporary team invite (if critical)
5. Access revoked after specified period

**For Database Queries:**
- Not available on free tier
- All database access must go through backend API endpoints
- For debugging: Backend team adds logging, DevOps checks logs

**For Environment Variable Values:**
1. Request in Teams DM (not public channel)
2. Lydiah verifies legitimate need
3. If approved: Share via secure channel (Teams DM)
4. Never share in public channels

---

## Security Incidents

### If Credentials Compromised

**Database URL compromised:**
1. Lydiah rotates database credentials via Render
2. Update `DATABASE_URL` in environment variables
3. Redeploy backend
4. Notify Backend team

**API Keys compromised:**
1. Contact DSE team for new `API_KEY`
2. Update in Render environment variables
3. Redeploy backend

**Render Account compromised:**
1. Reset password immediately
2. Review recent activity in Render Events
3. Rotate all environment variables
4. Notify Technical Lead (Tessa)

---

## Emergency Access

### During Demo Week (Feb 25-27)

**If Lydiah is unavailable:**
1. Contact Tessa (co-owner)
2. Tessa can access GitHub org as owner
3. For Render access: Lydiah shares backup codes with Tessa beforehand
4. Access returned to normal after emergency

**Emergency Contacts:**
- Co-owner: Tessa (DSE/Technical Lead)
- Product Manager: Stacey

---

## Audit Trail

| Date | Action | User | Notes |
|------|--------|------|-------|
| Feb 15, 2026 | Created GitHub organization | Lydiah | 6 repositories created |
| Feb 16, 2026 | Created Render account | Lydiah | Initial platform setup |
| Feb 16, 2026 | Added Tessa as GitHub org co-owner | Lydiah | Shared admin access |
| Feb 17, 2026 | Deployed production backend | Lydiah | First production deployment |
| Feb 19, 2026 | Enabled MFA on Render | Lydiah | Security hardening |
| Feb 19, 2026 | Configured UptimeRobot monitoring | Lydiah | Uptime tracking active |

---

## Notes

**GitHub Organization:**
- 2 owners ensure continuity if one is unavailable
- Team-based access model keeps repos organized
- Read access promotes transparency across teams

**Render Platform:**
- Free tier limitation: Single account owner
- This is normal for small teams/MVPs
- Upgrades to team plans available if needed

**Database:**
- No direct SQL access is intentional security design
- All data access goes through backend API
- This is standard practice for production systems
